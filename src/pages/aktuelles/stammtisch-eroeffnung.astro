---
import BaseLayout from '../../layouts/BaseLayout.astro';

// Import stammtisch-auftakt images
import Img01 from '../../assets/images/stammtisch-auftakt/IMG_7925.jpg';
import Img02 from '../../assets/images/stammtisch-auftakt/IMG_7926.jpg';
import Img03 from '../../assets/images/stammtisch-auftakt/IMG_7927.jpg';
import Img04 from '../../assets/images/stammtisch-auftakt/IMG_7928.jpg';
import Img05 from '../../assets/images/stammtisch-auftakt/IMG_7929.jpg';
import Img06 from '../../assets/images/stammtisch-auftakt/IMG_7930.jpg';
import Img07 from '../../assets/images/stammtisch-auftakt/IMG_7931.jpg';
import Img08 from '../../assets/images/stammtisch-auftakt/IMG_7932.jpg';
import Img09 from '../../assets/images/stammtisch-auftakt/IMG_7933.jpg';
import Img10 from '../../assets/images/stammtisch-auftakt/IMG_7934.jpg';
import Img11 from '../../assets/images/stammtisch-auftakt/IMG_7935.jpg';
import Img12 from '../../assets/images/stammtisch-auftakt/IMG_7936.jpg';
import Img13 from '../../assets/images/stammtisch-auftakt/IMG_7937.jpg';
import Img14 from '../../assets/images/stammtisch-auftakt/IMG_7938.jpg';
import Img15 from '../../assets/images/stammtisch-auftakt/IMG_7939.jpg';
import Img16 from '../../assets/images/stammtisch-auftakt/IMG_7940.jpg';
import Img17 from '../../assets/images/stammtisch-auftakt/IMG_7941.jpg';
import Img18 from '../../assets/images/stammtisch-auftakt/IMG_7942.jpg';
import Img19 from '../../assets/images/stammtisch-auftakt/IMG_7943.jpg';
import Img20 from '../../assets/images/stammtisch-auftakt/IMG_7944.jpg';
import Img21 from '../../assets/images/stammtisch-auftakt/IMG_7945.jpg';
import Img22 from '../../assets/images/stammtisch-auftakt/IMG_7946.jpg';
import Img23 from '../../assets/images/stammtisch-auftakt/IMG_7947.jpg';
import Img24 from '../../assets/images/stammtisch-auftakt/IMG_7949.jpg';
import Img25 from '../../assets/images/stammtisch-auftakt/IMG_7950.jpg';
import Img26 from '../../assets/images/stammtisch-auftakt/IMG_7951.jpg';
import Img27 from '../../assets/images/stammtisch-auftakt/IMG_7952.jpg';
import Img28 from '../../assets/images/stammtisch-auftakt/IMG_7953.jpg';
import Img29 from '../../assets/images/stammtisch-auftakt/IMG_7956.jpg';
import Img30 from '../../assets/images/stammtisch-auftakt/IMG_7957.jpg';
import Img31 from '../../assets/images/stammtisch-auftakt/IMG_7958.jpg';
import Img32 from '../../assets/images/stammtisch-auftakt/IMG_7959.jpg';
import Img33 from '../../assets/images/stammtisch-auftakt/IMG_7960.jpg';
import Img34 from '../../assets/images/stammtisch-auftakt/IMG_7962.jpg';
import Img35 from '../../assets/images/stammtisch-auftakt/IMG_7964.jpg';
import Img36 from '../../assets/images/stammtisch-auftakt/IMG_7965.jpg';

const galleryImages = [
  { src: Img01, alt: 'Eröffnungsfeier Stammtisch gegen Einsamkeit' },
  { src: Img02, alt: 'Gäste bei der Eröffnung' },
  { src: Img03, alt: 'Festliche Atmosphäre' },
  { src: Img04, alt: 'Bezirksbürgermeisterin spricht' },
  { src: Img05, alt: 'Einsamkeitsbeauftragte anwesend' },
  { src: Img06, alt: 'Elisabethstift Vertreter' },
  { src: Img07, alt: 'Gemeinsamer Austausch' },
  { src: Img08, alt: 'Eröffnungsrede' },
  { src: Img09, alt: 'Gäste im Gespräch' },
  { src: Img10, alt: 'Alte Fasanerie Räumlichkeiten' },
  { src: Img11, alt: 'Feierliche Stimmung' },
  { src: Img12, alt: 'Gemeinschaft erleben' },
  { src: Img13, alt: 'Projektvorstellung' },
  { src: Img14, alt: 'Networking' },
  { src: Img15, alt: 'Zusammenkunft' },
  { src: Img16, alt: 'Offizielle Eröffnung' },
  { src: Img17, alt: 'Besucher des Events' },
  { src: Img18, alt: 'Gemeinsam gegen Einsamkeit' },
  { src: Img19, alt: 'Festakt' },
  { src: Img20, alt: 'Unterstützer des Projekts' },
  { src: Img21, alt: 'Neue Verbindungen' },
  { src: Img22, alt: 'Herzliche Atmosphäre' },
  { src: Img23, alt: 'Nachbarschaft verbinden' },
  { src: Img24, alt: 'Eröffnungsfeier Impressionen' },
  { src: Img25, alt: 'Gäste genießen das Event' },
  { src: Img26, alt: 'Begegnung und Austausch' },
  { src: Img27, alt: 'Stammtisch Auftakt' },
  { src: Img28, alt: 'Feier in der Alten Fasanerie' },
  { src: Img29, alt: 'Gemeinsam starten' },
  { src: Img30, alt: 'Gäste unterhalten sich' },
  { src: Img31, alt: 'Projektstart' },
  { src: Img32, alt: 'Erfolgreiche Eröffnung' },
  { src: Img33, alt: 'Schöner Abend' },
  { src: Img34, alt: 'Gemeinschaft feiern' },
  { src: Img35, alt: 'Ausklang des Abends' },
  { src: Img36, alt: 'Gruppenbild' },
];

const articleMeta = {
  title: 'Feierliche Eröffnung: Stammtisch gegen Einsamkeit',
  date: '30. Juni 2025',
  category: 'Projekteröffnung',
  location: 'Alte Fasanerie Lübars',
  readTime: '4 Min. Lesezeit',
};
---

<BaseLayout title={`${articleMeta.title} - GeTu Prospects e.V.`}>
  <!-- Hero Section -->
  <section class="article-hero relative min-h-[70vh] lg:min-h-[80vh] overflow-hidden bg-charcoal">
    <div class="absolute inset-0">
      <img
        src={Img01.src}
        alt={articleMeta.title}
        class="w-full h-full object-cover opacity-40 scale-105 animate-ken-burns"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-charcoal via-charcoal/60 to-transparent"></div>
      <div class="absolute inset-0 bg-gradient-to-r from-charcoal/80 to-transparent"></div>
    </div>

    <!-- Back link -->
    <div class="absolute top-24 left-0 right-0 z-20">
      <div class="container mx-auto px-8 md:px-16">
        <a href="/aktuelles" class="inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors text-sm">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
          Zurück zu Aktuelles
        </a>
      </div>
    </div>

    <div class="relative z-10 container mx-auto px-8 md:px-16 min-h-[70vh] lg:min-h-[80vh] flex items-end pb-16 lg:pb-20">
      <div class="max-w-3xl">
        <!-- Meta -->
        <div class="hero-meta opacity-0 flex flex-wrap items-center gap-4 mb-6">
          <span class="bg-terracotta text-white px-3 py-1 text-xs font-semibold uppercase tracking-wider">
            {articleMeta.category}
          </span>
          <span class="text-white/60 text-sm">{articleMeta.date}</span>
          <span class="text-white/40">·</span>
          <span class="text-white/60 text-sm">{articleMeta.location}</span>
        </div>

        <!-- Title -->
        <h1 class="hero-title opacity-0 text-4xl md:text-5xl lg:text-6xl font-display font-semibold text-white leading-[1.1]">
          {articleMeta.title}
        </h1>

        <div class="hero-line mt-8 w-24 h-1 bg-terracotta scale-x-0 origin-left"></div>
      </div>
    </div>
  </section>

  <!-- Article Content -->
  <article class="py-16 lg:py-24 bg-cream">
    <div class="container mx-auto px-8 md:px-16">
      <div class="max-w-3xl mx-auto">

        <!-- Lead paragraph -->
        <div class="article-intro opacity-0 mb-12">
          <p class="text-xl lg:text-2xl text-charcoal leading-relaxed first-letter:text-6xl first-letter:font-display first-letter:font-semibold first-letter:text-terracotta first-letter:float-left first-letter:mr-4 first-letter:mt-2">
            Am 30. Juni 2025 feierten wir in der Alten Fasanerie Lübars die
            offizielle Eröffnung unseres neuen Projekts "Stammtisch gegen
            Einsamkeit". Mit prominenter Unterstützung aus Politik und
            Gesellschaft starteten wir ein Angebot, das Menschen zusammenbringt.
          </p>
        </div>

        <!-- Article body -->
        <div class="article-body opacity-0 prose prose-lg max-w-none">
          <p>
            Die Eröffnungsfeier markierte den Beginn eines wichtigen Projekts
            für den Bezirk Reinickendorf. Der Stammtisch gegen Einsamkeit bietet
            jeden dritten Freitag im Monat einen offenen Treffpunkt für
            Menschen, die Gesellschaft suchen und neue Kontakte knüpfen möchten.
          </p>

          <h2>Hochrangige Unterstützung</h2>

          <p>
            Zur feierlichen Eröffnung kamen die Bezirksbürgermeisterin von
            Reinickendorf sowie die Einsamkeitsbeauftragte des Bezirks. Ihre
            Anwesenheit unterstrich die Bedeutung des Themas Einsamkeit und
            die Wertschätzung für unser ehrenamtliches Engagement.
          </p>

          <p>
            "Einsamkeit ist eine der größten Herausforderungen unserer Zeit",
            betonte die Bezirksbürgermeisterin in ihrer Ansprache. "Initiativen
            wie der Stammtisch gegen Einsamkeit sind genau das, was wir
            brauchen, um Menschen wieder zusammenzubringen."
          </p>

          <h2>Partnerschaft mit dem Elisabethstift</h2>

          <p>
            Besonders erfreulich war die Beteiligung des Elisabethstifts, das
            in der Alten Fasanerie beheimatet ist. Die enge Zusammenarbeit
            ermöglicht es uns, die wunderschönen Räumlichkeiten für unsere
            regelmäßigen Treffen zu nutzen.
          </p>

          <p>
            Die Vertreter des Elisabethstifts betonten ihre Freude über das
            neue Angebot, das die Alte Fasanerie zu einem noch lebendigeren
            Ort der Begegnung macht.
          </p>

          <h2>Teil einer bezirksweiten Initiative</h2>

          <p>
            Unser Stammtisch in Lübars ist Teil der bezirksweiten Strategie
            gegen Einsamkeit in Reinickendorf. Das Bezirksamt beschreibt die
            Stammtische als "eine der aktivsten Säulen der Reinickendorfer
            Strategie gegen Isolation". Insgesamt gibt es fünf solcher
            Treffpunkte im Bezirk - wir betreuen den Standort in der
            Alten Fasanerie.
          </p>

          <h2>Ein gelungener Auftakt</h2>

          <p>
            Die zahlreichen Gäste bei der Eröffnungsfeier zeigten: Das Thema
            Einsamkeit bewegt Menschen jeden Alters. In angeregten Gesprächen
            bei Kaffee und Kuchen entstanden erste Kontakte und Verbindungen.
          </p>

          <p>
            Seit der Eröffnung findet der Stammtisch jeden dritten Freitag
            im Monat von 15:00 bis 18:00 Uhr statt. Alle sind herzlich
            willkommen - keine Anmeldung erforderlich, Kaffee und Kuchen
            kostenfrei.
          </p>

          <div class="my-12 py-10 border-t border-b border-charcoal/10">
            <span class="label-editorial text-terracotta tracking-[0.3em] mb-4 block">Vorbeikommen</span>
            <h3 class="text-2xl font-display font-semibold text-charcoal mb-6">Stammtisch gegen Einsamkeit</h3>
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <p class="text-charcoal font-semibold mb-1">Wann & Wo</p>
                <p class="text-charcoal-light text-sm">
                  Jeden 3. Freitag im Monat, 15:00 - 18:00 Uhr<br/>
                  Alte Fasanerie "Hofstube" Lübars<br/>
                  Fasanerie 10, 13469 Berlin
                </p>
              </div>
              <div>
                <p class="text-charcoal font-semibold mb-1">Kontakt</p>
                <p class="text-charcoal-light text-sm">
                  Kostenfrei inkl. Kaffee und Kuchen<br/>
                  Keine Anmeldung erforderlich<br/>
                  <a href="mailto:grace.adenmosun@getu-prospects.de" class="text-terracotta hover:underline">grace.adenmosun@getu-prospects.de</a>
                </p>
              </div>
            </div>
            <a href="https://www.berlin.de/ba-reinickendorf/politik-und-verwaltung/beauftragte/einsamkeit/artikel.1609231.php" target="_blank" rel="noopener" class="inline-flex items-center gap-2 mt-6 text-terracotta font-semibold hover:gap-3 transition-all">
              Mehr auf der Bezirksamtsseite
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
              </svg>
            </a>
          </div>

          <p>
            Wir danken allen Unterstützern, Partnern und Gästen, die diesen
            besonderen Tag mit uns gefeiert haben. Gemeinsam setzen wir ein
            Zeichen gegen Einsamkeit.
          </p>
        </div>

      </div>

      <!-- Photo Gallery -->
      <section class="gallery-section mt-20 opacity-0">
        <div class="max-w-3xl mx-auto mb-12">
          <span class="label-editorial text-terracotta tracking-[0.3em]">Impressionen</span>
          <h2 class="mt-4 text-3xl font-display font-semibold text-charcoal">
            Bilder von der Eröffnungsfeier
          </h2>
        </div>

        <!-- Gallery Grid -->
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2">
          {galleryImages.map((image, index) => (
            <div
              class="gallery-item relative aspect-square overflow-hidden group cursor-pointer"
              style={`--gallery-delay: ${index * 50}ms`}
              data-gallery-index={index}
            >
              <img
                src={image.src.src}
                alt={image.alt}
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
              />
              <div class="absolute inset-0 bg-charcoal/0 group-hover:bg-charcoal/30 transition-colors duration-300"></div>
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"/>
                </svg>
              </div>
            </div>
          ))}
        </div>
      </section>

      <!-- Article Footer -->
      <div class="max-w-3xl mx-auto mt-16 pt-8 border-t border-charcoal/10">
        <div class="flex flex-wrap items-center justify-between gap-4">
          <div class="flex items-center gap-4 text-sm text-charcoal-light">
            <span>{articleMeta.date}</span>
            <span>·</span>
            <span>{articleMeta.location}</span>
          </div>

          <div class="flex items-center gap-4">
            <a
              href="/projekte/stammtisch"
              class="inline-flex items-center gap-2 text-terracotta font-medium hover:underline"
            >
              Zum Projekt
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </a>
            <a
              href="/aktuelles"
              class="inline-flex items-center gap-2 text-charcoal-light font-medium hover:text-terracotta"
            >
              Alle Artikel
            </a>
          </div>
        </div>
      </div>

    </div>
  </article>

  <!-- Lightbox -->
  <div id="lightbox" class="fixed inset-0 z-50 bg-charcoal/95 hidden items-center justify-center">
    <button id="lightbox-close" class="absolute top-6 right-6 text-white/60 hover:text-white transition-colors">
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
      </svg>
    </button>

    <button id="lightbox-prev" class="absolute left-4 top-1/2 -translate-y-1/2 text-white/60 hover:text-white transition-colors p-2">
      <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
      </svg>
    </button>

    <button id="lightbox-next" class="absolute right-4 top-1/2 -translate-y-1/2 text-white/60 hover:text-white transition-colors p-2">
      <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
      </svg>
    </button>

    <img id="lightbox-image" src="" alt="" class="max-w-[90vw] max-h-[85vh] object-contain" />

    <div id="lightbox-counter" class="absolute bottom-6 left-1/2 -translate-x-1/2 text-white/60 text-sm"></div>
  </div>
</BaseLayout>

<style>
  /* Hero animations */
  .article-hero .hero-meta {
    animation: revealUp 1s cubic-bezier(0.16, 1, 0.3, 1) 0.2s forwards;
  }

  .article-hero .hero-title {
    animation: revealUp 1.2s cubic-bezier(0.16, 1, 0.3, 1) 0.4s forwards;
  }

  .article-hero .hero-line {
    animation: lineExpand 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.6s forwards;
  }

  @keyframes revealUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes lineExpand {
    from { transform: scaleX(0); }
    to { transform: scaleX(1); }
  }

  /* Section animations */
  .article-intro.animate,
  .article-body.animate,
  .gallery-section.animate {
    animation: revealUp 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  /* Gallery items stagger */
  .gallery-section.animate .gallery-item {
    animation: revealUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: var(--gallery-delay, 0ms);
    opacity: 0;
  }

  /* Prose styling */
  .prose h2 {
    font-family: var(--font-display);
    font-size: 1.75rem;
    font-weight: 600;
    color: var(--color-charcoal);
    margin-top: 2.5rem;
    margin-bottom: 1rem;
  }

  .prose h3 {
    font-family: var(--font-display);
    margin-top: 0;
  }

  .prose p {
    color: var(--color-charcoal-light);
    line-height: 1.8;
    margin-bottom: 1.5rem;
  }

  /* Lightbox */
  #lightbox.active {
    display: flex;
  }
</style>

<script>
  function initArticlePage() {
    // Scroll-triggered sections
    const sections = document.querySelectorAll('.article-intro, .article-body, .gallery-section');

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate');
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.1 }
    );

    sections.forEach((section) => observer.observe(section));

    // Lightbox functionality
    const lightbox = document.getElementById('lightbox');
    const lightboxImage = document.getElementById('lightbox-image') as HTMLImageElement;
    const lightboxCounter = document.getElementById('lightbox-counter');
    const lightboxClose = document.getElementById('lightbox-close');
    const lightboxPrev = document.getElementById('lightbox-prev');
    const lightboxNext = document.getElementById('lightbox-next');
    const galleryItems = document.querySelectorAll('.gallery-item');

    if (!lightbox || !lightboxImage || !lightboxCounter) return;

    const images: string[] = [];
    galleryItems.forEach((item) => {
      const img = item.querySelector('img');

      if (img) images.push(img.src);
    });

    let currentIndex = 0;

    function showImage(index: number) {
      currentIndex = (index + images.length) % images.length;
      lightboxImage.src = images[currentIndex];
      lightboxCounter!.textContent = `${currentIndex + 1} / ${images.length}`;
    }

    function openLightbox(index: number) {
      showImage(index);
      lightbox.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox() {
      lightbox.classList.remove('active');
      document.body.style.overflow = '';
    }

    galleryItems.forEach((item, index) => {
      item.addEventListener('click', () => openLightbox(index));
    });

    lightboxClose?.addEventListener('click', closeLightbox);
    lightboxPrev?.addEventListener('click', () => showImage(currentIndex - 1));
    lightboxNext?.addEventListener('click', () => showImage(currentIndex + 1));

    lightbox.addEventListener('click', (e) => {
      if (e.target === lightbox) closeLightbox();
    });

    document.addEventListener('keydown', (e) => {
      if (!lightbox.classList.contains('active')) return;

      if (e.key === 'Escape') closeLightbox();
      if (e.key === 'ArrowLeft') showImage(currentIndex - 1);
      if (e.key === 'ArrowRight') showImage(currentIndex + 1);
    });
  }

  initArticlePage();
  document.addEventListener('astro:page-load', initArticlePage);
</script>
